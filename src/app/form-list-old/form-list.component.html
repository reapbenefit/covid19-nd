<div class="container" style="margin-top: 5%;position: relative;">

  <div class="row">
    <div class="col-md-4 offset-1 pl-5">
      <h4 class="header_padding pt-3">Form List</h4>
    </div>

    <!-- [routerLink]="['/formbuilder']" -->
    <div class="col-md-4 offset-3" style="padding-left:8rem;">
      <button id="openModalButton"  (click)="open_form_types()"
        class="btn btn-default btn-circle btn-xl" type="button"><i class="fa fa-plus"></i></button>
    </div>
  </div>
  <div class="col-md-12">
    <table class="table table_customize">
      <thead>
        <tr>
          <th>Sl No.</th>
          <th>Form Name</th>
          <th>Preview Form</th>
          <th>Action</th>
          <th>Form Status</th>
          <th>Create Another</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor='let formsarr of form_list;let i = index'>
          <th>{{formsarr.id}}</th>
          <td>{{formsarr.name}}</td>

          <td><button class="btn btn-success" (click)="preview_form(formsarr)">Preview</button></td>

          <!-- <formio  (click)="preview_form(formsarr)" [form]="formsarr.schema"></formio> -->
          <!-- {{formsarr.schema}} -->
          <td>
            <!-- <button class="btn btn-primary" (click)="preview_form(formsarr)">Preview</button>&nbsp;&nbsp;&nbsp; -->
            <button class="btn btn-danger" (click)="open_mobile(content,formsarr)">Delete</button>
          </td>
          <td> <button class="btn btn-success" (click)="open_status(formsarr)">{{formsarr.status}}</button></td>
          <td><button class="btn btn-success" (click)="create_form(formsarr)">Create Another</button></td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- <div class="form_builder_custom">
    <button id="openModalButton" [routerLink]="['/formbuilder']"  class="btn btn-default btn-circle btn-xl"
      type="button"><i class="fa fa-plus"></i></button>
  </div> -->

</div>

<ng-template class="modal_customize_tree" #content let-modal>
  <div class="modal-header" style="justify-content: center;">
    <h4 class="modal-title" id="modal-basic-title">Are you sure you want to delete ?</h4>
    <button type="button" class="close custom_close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span style="font-size: 25px;" aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class=" row" style="padding-top: 1rem;justify-content: center;">
      <!-- <div class="col-lg-12"> -->
      <!-- <div class="col-xs-3" > -->
      <button class="btn btn-danger" (click)="modal.dismiss('Cross click')">Cancel</button>&nbsp;&nbsp;&nbsp;
      <!-- </div> -->
      <!-- <div class="col-xs-3"> -->
      <button class="btn btn-success" (click)="delete_form(formsarr)">Delete</button>
      <!-- </div> -->
      <!-- </div> -->
    </div>
  </div>
</ng-template>



<div style="position:absolute;top:0%;right: 0;margin: auto;">
  <ng-template class="" #refer_needy let-modal>
    <div class="modal-header" style="justify-content: center;">
      <h6 class="modal-title" id="modal-basic-title">{{previewformname}}</h6>
      <button type="button" class="close custom_close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span style="font-size: 25px;" aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="container">

      <div class="row" style="justify-content: center;">
        <!-- <div class="col-md-12 mb-4">
          <formio [form]="form_data"></formio>
        </div> -->
        <form [formGroup]="previewForm" (ngSubmit)="onSubmitTemplate()" novalidate>
          <div class="row" *ngFor="let controls of preview_fields">
            <div class="col-md-12" style="justify-content: center;">
              {{controls.label}}
              <input [type]="controls.type" class="form-control" [formControlName]="controls.label" />
            </div>
          </div>
        </form>
      </div>
    </div>
  </ng-template>
</div>


<div style="position:absolute;top:0%;right: 0;margin: auto;">
  <ng-template class="" #signup_volunteer let-modal>
    <div class="modal-header" style="justify-content: center;">
      <h6 class="modal-title" id="modal-basic-title">Asset Template</h6>
      <button type="button" class="close custom_close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span style="font-size: 25px;" aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-md-12 mb-4">
         <div class="row">
           <input type="text" class="form-control" placeholder="Enter Form Name" [(ngModel)]="templateform_name">
         </div>
          <form [formGroup]="dynamicForm" (ngSubmit)="onSubmitTemplate()" novalidate>
            <div class="row" *ngFor="let controls of fields">
              <div class="col-md-8">
                {{controls.label}}
                <input [type]="controls.type" class="form-control" [formControlName]="controls.label" />
              </div>
              <div class="col-md-4 pt-4">
                <input value="edit label" type="button" class="btn btn-primary" (click)="edit_label(controls);">
                <!-- <input value="edit label" type="button" class="btn btn-primary" (click)="delete_input(controls);"> -->
              </div>

              <!-- <ng-container *ngFor="let validation of controls.validations">
                  <span *ngIf="dynamicForm.controls[controls.label].touched && dynamicForm.controls[controls.label].errors">
                    <p *ngIf="dynamicForm.controls[controls.label].errors[validation.name]">
                      {{validation.message}}
                    </p>
                  </span>
              </ng-container> -->

              <br>
            </div>
            <br>
            <div class="row" style="justify-content: center;">
              <input type="submit" value="Create Another Template" class="btn btn-success"/>
            </div>
            
          </form>
        </div>
      </div>
    </div>

  </ng-template>
</div>


<div class="custome_div">
  <ng-template class="" #inforamation_local let-modal>
    <div class="modal-header" style="justify-content: center;">
      <h6 class="modal-title" id="modal-basic-title">Update Asset Template</h6>
      <button type="button" id="label_close" class="close custom_close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span style="font-size: 25px;" aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="container">
      <div class="row" style="justify-content: center;">
        <div class="col-md-12 mb-4">
          <input [type]="text" class="form-control" [(ngModel)]="edit_label_input" />
        </div>
        <input value="Update Label" type="button" class="btn btn-primary" (click)="update_label();">
      </div>
    </div>
  </ng-template>
</div>

<div class="custome_div">
  <ng-template class="" #form_type let-modal>
    <div class="modal-header" style="justify-content: center;">
      <div class="row">
        <div class="col-md-6 pt-3">
          <h5 class="modal-title" id="modal-basic-title">Form Types</h5>
        </div>
        <div class="col-md-4">
          <div class="col-md-4 offset-3" style="padding-left:6rem;">
            <button id="openModalButton"  (click)="add_form_types()"
              class="btn btn-default btn-circle btn-xl" type="button"><i class="fa fa-plus"></i></button>
          </div>
        </div>
      </div>
     
      <button type="button" id="clodeModal_formtype" class="close custom_close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span style="font-size: 25px;" aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="container">
      <div class="row" style="justify-content: center;" *ngFor = 'let formsarr of form_type_list'>
        <div class="form-group mt-2" >
          <div class="row" style="justify-content: center">
            <button class="btn btn-success" (click)="redirect_form_build(formsarr.index);" >{{formsarr.type}}</button>
          </div>
       </div>
      </div>
      <div class="row mt-3" style="justify-content: center;">
        <input value="Save" type="button" class="btn btn-primary" >
      </div>
    </div>
  </ng-template>
</div>

<div class="custome_div">
  <ng-template class="" #add_form_type let-modal>
    <div class="modal-header" style="justify-content: center;">
      <div class="row">
          <h5 class="modal-title" id="modal-basic-title">Add Form Types</h5>
      </div>
      <button type="button" id="closeModal" class="close custom_close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span style="font-size: 25px;" aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="container">
      <div class="row">
        <input type="text" class="form-control" [(ngModel)]="form_type_name" placeholder="Enter Form Type">
      </div>
      <div class="row mt-3" style="justify-content: center;">
        <input value="Save" type="button" class="btn btn-primary" (click)="add_form_type_name();">
      </div>
    </div>
  </ng-template>
</div>

<ng-template class="modal_customize_tree" #Approve_modal let-modal>
  <div class="modal-header" style="justify-content: center;">
    <h4 class="modal-title" id="modal-basic-title">Are you sure you want to Approve</h4>
    <button type="button" id="approve_close" class="close custom_close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span style="font-size: 25px;" aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class=" row" style="padding-top: 1rem;justify-content: center;">
      <!-- <div class="col-lg-12"> -->
      <!-- <div class="col-xs-3" > -->
      <button class="btn btn-danger" (click)="modal.dismiss('Cross click')">Cancel</button>&nbsp;&nbsp;&nbsp;
      <!-- </div> -->
      <!-- <div class="col-xs-3"> -->
      <button class="btn btn-success" (click)="approve_form(formsarr)">Approve</button>
      <!-- </div> -->
      <!-- </div> -->
    </div>
  </div>
</ng-template>


<ng-template class="modal_customize_tree" #deleteinput let-modal>
  <div class="modal-header" style="justify-content: center;">
    <h4 class="modal-title" id="modal-basic-title">Are you sure you want to delete ?</h4>
    <button type="button" class="close custom_close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span style="font-size: 25px;" aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class=" row" style="padding-top: 1rem;justify-content: center;">
      <!-- <div class="col-lg-12"> -->
      <!-- <div class="col-xs-3" > -->
      <button class="btn btn-danger" (click)="modal.dismiss('Cross click')">Cancel</button>&nbsp;&nbsp;&nbsp;
      <!-- </div> -->
      <!-- <div class="col-xs-3"> -->
      <button class="btn btn-success" (click)="delete_inputobject()">Delete</button>
      <!-- </div> -->
      <!-- </div> -->
    </div>
  </div>
</ng-template>
